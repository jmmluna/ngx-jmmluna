import { Component, OnInit, AfterViewInit, ViewChild } from '@angular/core';
import { MapComponent } from 'projects/ngx-jmmluna/map/src/public-api';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css'],
})
export class AppComponent implements AfterViewInit {
  //title = 'application-test';
  @ViewChild('mapa1') mapa1!: MapComponent;

  ngAfterViewInit() {
    this.mapa1.loadData(this.getPoint());
    this.mapa1.loadData(this.getPolygon());
  }

  private getPoint(): string {
    return `{"type":"FeatureCollection","features":[{"type":"Feature","properties":{},"geometry":{"type":"Point","coordinates":[-687070.39096398,4872676.746463698]}}]}`;
  }

  private getPolygon(): string {
    return `{"type":"FeatureCollection","features":[{"type":"Feature","properties":{},"geometry":{"type":"Polygon","coordinates":[[[-631271.34672589,4916150.292692899],[-628519.61370812,4918443.403541001],[-623016.14767257,4921348.010615398],[-617054.05946739,4918902.025710702],[-613843.70427999,4914010.0559013],[-610786.22314913,4912328.441279299],[-604671.26088741,4914315.8040144],[-603754.01654815,4911869.819109699],[-599320.66890841,4913704.307788198],[-593970.07692941,4914774.4261839995],[-582351.64863214,4917067.5370322],[-563701.0137339,4914927.300240601],[-556057.31090675,4919819.270049898],[-549789.47458849,4916303.1667494],[-548719.35619269,4912328.441279299],[-554681.44439786,4908047.967696098],[-558350.42175489,4912022.693166199],[-559114.79203761,4907742.219582999],[-561866.52505538,4906060.604961099],[-560490.65854649,4904226.116282499],[-567828.61326056,4899334.146473198],[-571191.8425045,4898264.028077398],[-571650.46467413,4894900.798833399],[-570274.59816524,4893677.8063811],[-570274.59816524,4892454.8139287],[-575166.56797462,4891996.191759101],[-578529.79721856,4892913.436098401],[-579447.04155782,4891690.443645998],[-583727.51514103,4890467.451193701],[-589689.6033462,4892913.436098401],[-592594.21042052,4892913.436098401],[-596416.06183409,4892149.0658156],[-598403.42456915,4897958.279964299],[-594581.57315557,4904073.242225999],[-598862.04673878,4903461.745999798],[-600390.78730421,4902697.375717098],[-603448.26843507,4902850.2497737],[-605741.37928321,4900404.264868997],[-608187.3641879,4898569.776190499],[-608951.73447061,4896123.791285801],[-612467.8377711,4895053.672889998],[-614302.32644962,4895053.672889998],[-615219.57078888,4894442.176663799],[-617818.42975011,4894442.176663799],[-622710.39955948,4897346.783738098],[-625309.25852071,4898722.650247],[-623933.39201182,4899487.020529699],[-626226.50285997,4902085.879490898],[-629131.10993429,4903308.871943299],[-629895.480217,4905449.108734899],[-633411.58351749,4908506.5898657],[-637692.05710069,4909118.086091898],[-637386.30898761,4911564.0709966],[-634940.32408292,4913857.181844797],[-633258.70946095,4915997.418636401],[-631729.96889552,4916608.914862499],[-631271.34672589,4916150.292692899]]]}}]}`;
  }
}
